const Discord = require('discord.js');
const client = new Discord.Client();
const prefix = 'L'

client.on('ready', () => {
  client.user.setStatus("dnd")
  console.log(`Logged in as ${client.user.tag}!`);
  console.log('')
  console.log('')
  console.log('‚ïî[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïó')
  console.log(`Start ${new Date()}`);
  console.log('‚ïö[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïù')
  console.log('')
  console.log('‚ïî[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïó');
  console.log(`Logged in as * [ " ${client.user.username} " ]`);
  console.log('')
  console.log('Informations :')
  console.log('')
  console.log(`servers! [ " ${client.guilds.size} " ]`);
  console.log(`Users! [ " ${client.users.size} " ]`);
  console.log(`channels! [ " ${client.channels.size} " ]`);
  console.log('‚ïö[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïù')
  console.log('')
  console.log('‚ïî[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïó')
  console.log(' Bot Is Online')
  console.log('‚ïö[‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê]‚ïù')
  console.log('')
  console.log('')
	
});





const adminprefix = "L";
const devs = ['283580465862934539','283580465862934539'];
client.on('message', message => {
  var argresult = message.content.split(` `).slice(1).join(' ');
    if (!devs.includes(message.author.id)) return;
    
if (message.content.startsWith(adminprefix + 'setgame')) {
  client.user.setGame(argresult);
    message.channel.sendMessage(`**${argresult} ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿ®ŸÑÿßŸäŸÜŸÇ ÿßŸÑÿ®Ÿàÿ™ ÿ•ŸÑŸâ **`)
} else 
	if (message.content.startsWith(adminprefix + 'wt')) {
  client.user.setActivity(argresult, {type:'WATCHING'});
      message.channel.send(` ‚òë Client Activity Now Is : \`Watching ${argresult} \` `)
} else
 if (message.content.startsWith(adminprefix + 'ls')) {
  client.user.setActivity(argresult , {type:'LISTENING'});
      message.channel.send(` ‚òë Client Activity Now Is : \`Listening ${argresult} \` `)
      } else     
if (message.content.startsWith(adminprefix + 'setT')) {
  client.user.setGame(argresult, "https://www.twitch.tv/squad");
    message.channel.sendMessage(`**ÿ™ŸÖ ÿ™ÿ∫ŸäŸäÿ± ÿ™ŸàŸäÿ™ÿ¥ ÿßŸÑÿ®Ÿàÿ™ ÿ•ŸÑŸâ  ${argresult}**`)
}
});

client.on('message', message => {
    if(message.content.startsWith(prefix+'help')) {
   const embed = new Discord.RichEmbed()
.setColor('RANDOM')
        .setDescription(`**
General's Commands. 
${prefix}giveaway - ŸÑÿßŸÜÿ¥ÿßÿ° ŸÇŸäŸÅ ÿßŸàÿßŸä :scroll:
${prefix}server - ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± :smile:
${prefix}clear - ŸäŸÖÿ≥ÿ≠ ÿßŸÑÿ¥ÿßÿ™ ÿ®ÿ≥ ÿ≠ÿ∑ ÿπÿØÿØ  :eyeglasses: 
${prefix}id - ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜŸÉ  :scroll:
${prefix}ban - Ÿäÿπÿ∑Ÿâ ÿ®ÿßŸÜ ÿ®ÿ≥ ÿ≠ÿ∑ ÿ≥ÿ®ÿ® :flashlight:
${prefix}kick - Ÿäÿπÿ∑Ÿâ ŸÉŸäŸÉ ŸÖÿπ ÿßŸÑÿ≥ÿ®ÿ® :frame_photo:
${prefix}bc - ÿßÿ±ÿ≥ÿßŸÑ ÿ±ÿ≥ÿßŸÑŸá ÿ¨ŸÖÿßÿπŸäŸá ŸÑŸÉŸÑ ÿßŸÑŸâ ŸÅÿ≥Ÿäÿ±ŸÅÿ± ÿ®ÿßŸÑÿÆÿßÿµ:microphone:
${prefix}hc - ŸäÿÆŸÅŸä ÿßŸÑÿ¥ÿßÿ™ :nut_and_bolt:
${prefix}unhc - Ÿäÿ∏Ÿáÿ± ÿßŸÑÿ¥ÿßÿ™ :nut_and_bolt:

            bot help       

    message.author.send(embed)
}
});


client.on('message',async message => {
          var room;
          var title;
          var duration;
          var gMembers;
          var filter = m => m.author.id === message.author.id;
          if(message.content.startsWith(prefix + "giveaway")) {
            if(!message.guild.member(message.author).hasPermission('MANAGE_GUILD')) return message.channel.send(':heavy_multiplication_x:| **Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÑÿØŸäŸÉ ÿÆÿßÿµŸäÿ© ÿßŸÑÿ™ÿπÿØŸäŸÑ ÿπŸÑŸâ ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±**');
            message.channel.send(`:eight_pointed_black_star:| **ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖ ÿßŸÑÿ±ŸàŸÖ**`).then(msgg => {
              message.channel.awaitMessages(filter, {
                max: 1,
                time: 20000,
                errors: ['time']
              }).then(collected => {
                let room = message.guild.channels.find('name', collected.first().content);
                if(!room) return message.channel.send(':heavy_multiplication_x:| **ŸÑŸÖ ÿßŸÇÿØÿ± ÿπŸÑŸâ ÿßŸäÿ¨ÿßÿØ ÿßŸÑÿ±ŸàŸÖ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®**');
                room = collected.first().content;
                collected.first().delete();
                msgg.edit(':eight_pointed_black_star:| **ÿßŸÉÿ™ÿ® ŸÖÿØÿ© ÿßŸÑŸÇŸäŸÅ ÿßŸàÿßŸä ÿ®ÿßŸÑÿØŸÇÿßÿ¶ŸÇ , ŸÖÿ´ÿßŸÑ : 60**').then(msg => {
                  message.channel.awaitMessages(filter, {
                    max: 1,
                    time: 20000,
                    errors: ['time']
                  }).then(collected => {
                    if(isNaN(collected.first().content)) return message.channel.send(':heavy_multiplication_x:| **Ÿäÿ¨ÿ® ÿπŸÑŸäŸÉ ÿßŸÜ ÿ™ÿ≠ÿØÿØ ŸàŸÇÿ™ ÿ≤ŸÖŸÜŸä ÿµÿ≠Ÿäÿ≠.. ``Ÿäÿ¨ÿ® ÿπŸÑŸäŸÉ ÿßÿπÿßÿØÿ© ŸÉÿ™ÿßÿ®ÿ© ÿßŸÑÿßŸÖÿ±``**');
                    duration = collected.first().content * 60000;
                    collected.first().delete();
                    msgg.edit(':eight_pointed_black_star:| **ŸàÿßÿÆŸäÿ±ÿß ÿßŸÉÿ™ÿ® ÿπŸÑŸâ ŸÖÿßÿ∞ÿß ÿ™ÿ±ŸäÿØ ÿßŸÑŸÇŸäŸÅ ÿßŸàÿßŸä**').then(msg => {
                      message.channel.awaitMessages(filter, {
                        max: 1,
                        time: 20000,
                        errors: ['time']
                      }).then(collected => {
                        title = collected.first().content;
                        collected.first().delete();
                        try {
                          let giveEmbed = new Discord.RichEmbed()
                          .setAuthor(message.guild.name, message.guild.iconURL)
                          .setTitle(title)
                          .setDescription(`ÿßŸÑŸÖÿØÿ© : ${duration / 60000} ÿØŸÇÿßÿ¶ŸÇ`)
                          .setFooter(message.author.username, message.author.avatarURL);
                          message.guild.channels.find('name', room).send(giveEmbed).then(m => {
                             let re = m.react('üéâ');
                             setTimeout(() => {
                               let users = m.reactions.get("üéâ").users;
                               let list = users.array().filter(u => u.id !== m.author.id);
                               let gFilter = list[Math.floor(Math.random() * list.length) + 0];
                                 if(users.size === 1) gFilter = '**ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿ™ÿ≠ÿØŸäÿØ**';
                               let endEmbed = new Discord.RichEmbed()
                               .setAuthor(message.author.username, message.author.avatarURL)
                               .setTitle(title)
                               .addField('ÿßŸÜÿ™ŸáŸâ ÿßŸÑŸÇŸäŸÅ ÿßŸàÿßŸä !',`ÿßŸÑŸÅÿßÿ¶ÿ≤ ŸáŸà : ${gFilter}`)
                               .setFooter(message.guild.name, message.guild.iconURL);
                               m.edit(endEmbed);
                             },duration);
                           });
                          msgg.edit(`:heavy_check_mark:| **ÿ™ŸÖ ÿßÿπÿØÿßÿØ ÿßŸÑŸÇŸäŸÅ ÿßŸàÿßŸä**`);
                        } catch(e) {
                          msgg.edit(`:heavy_multiplication_x:| **ŸÑŸÖ ÿßŸÇÿØÿ± ÿπŸÑŸâ ÿßÿπÿØÿßÿØ ÿßŸÑŸÇŸäŸÅ ÿßŸàÿßŸä ÿ®ÿ≥ÿ®ÿ® ŸÜŸÇÿµ ÿßŸÑÿÆÿµÿßÿ¶ÿµ**`);
                          console.log(e);
                        }
                      });
                    });
                  });
                });
              });
            });
          }
        });
       
client.on('message', function(msg) {
    if(msg.content.startsWith (prefix  + 'server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .setTitle(`**Showing Details Of** ${msg.guild.name}`)
      .addField('`Server Region`',`[${msg.guild.region}]`,true)
      .addField('`Roles Count`',`[${msg.guild.roles.size}]`,true)
      .addField('`Members Count`',`[${msg.guild.memberCount}]`,true)
      .addField('`Online Members`',`[${msg.guild.members.filter(m=>m.presence.status == 'online').size}]`,true)
      .addField('`Text Channels`',`[${msg.guild.channels.filter(m => m.type === 'text').size}]`,true)
      .addField('`Voice Channels`',`[${msg.guild.channels.filter(m => m.type === 'voice').size}]`,true)
      .addField('`Server Owner`',`**${msg.guild.owner}**`,true)
      .addField('`Server Id`',`**${msg.guild.id}**`,true)
      .addField('`Server was created in`',msg.guild.createdAt.toLocaleString())
      msg.channel.send({embed:embed})
    }
});


client.on('message', message => {
      if(!message.channel.guild) return;
var prefix = "L";
if(message.content.startsWith(prefix + 'bc')) {
if(!message.channel.guild) return message.channel.send('**Ÿáÿ∞ÿß ÿßŸÑÿ£ŸÖÿ± ŸÅŸÇÿ∑ ŸÑŸÑÿ≥Ÿäÿ±ŸÅÿ±ÿßÿ™**').then(m => m.delete(5000));
if(!message.member.hasPermission('ADMINISTRATOR')) return      message.channel.send('**ŸÑŸÑÿ£ÿ≥ŸÅ ŸÑÿß ÿ™ŸÖÿ™ŸÑŸÉ ÿµŸÑÿßÿ≠Ÿäÿ©** `ADMINISTRATOR`' );
let args = message.content.split(" ").join(" ").slice(2 + prefix.length);
let copy = "Squad Bot";
let request = `Requested By ${message.author.username}`;
if (!args) return message.reply('```**Ÿäÿ¨ÿ® ÿπŸÑŸäŸÉ ŸÉÿ™ÿßÿ®ÿ© ŸÉŸÑŸÖÿ© ÿßŸà ÿ¨ŸÖŸÑÿ© ŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ÿ±ŸàÿØŸÉÿßÿ≥ÿ™**```');message.channel.send(`**ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ•ÿ±ÿ≥ÿßŸÑŸÉ ÿßŸÑÿ®ÿ±ŸàÿØŸÉÿßÿ≥ÿ™ÿü \nŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ®ÿ±ŸàÿØŸÉÿßÿ≥ÿ™:** \` ${args}\``).then(msg => {
msg.react('‚úÖ')
.then(() => msg.react('‚ùå'))
.then(() =>msg.react('‚úÖ'))

let reaction1Filter = (reaction, user) => reaction.emoji.name === '‚úÖ' && user.id === message.author.id;
let reaction2Filter = (reaction, user) => reaction.emoji.name === '‚ùå' && user.id === message.author.id;

let reaction1 = msg.createReactionCollector(reaction1Filter, { time: 12000 });
let reaction2 = msg.createReactionCollector(reaction2Filter, { time: 12000 });
reaction1.on("collect", r => {
message.channel.send(`‚òë | Done ... The Broadcast Message Has Been Sent For ${message.guild.members.size} Members`).then(m => m.delete(5000));
message.guild.members.forEach(m => {
var bc = new
Discord.RichEmbed()
.setColor('RANDOM')
.setTitle('Broadcast')
.addField('Server', message.guild.name)
.addField('Sender', message.author.username)
.addField('Message', args)
.setThumbnail(message.author.avatarURL)
.setFooter(copy, client.user.avatarURL);
m.send({ embed: bc })
msg.delete();
})
})
reaction2.on("collect", r => {
message.channel.send(`**Broadcast Canceled.**`).then(m => m.delete(5000));
msg.delete();
})
})
}
});

 
client.on('message', message => {
                 if(message.content.startsWith("Lclear")) {
                     var args = message.content.split(" ").slice(1);
             if (!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('You need MANAGE_MESSAGES permission noob');
              if (!args[0]) return message.channel.send('ÿ∂ÿπ ÿπÿØÿØ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑÿ™Ÿä ÿ™ÿ±ŸäÿØ ŸÖÿ≥ÿ≠Ÿáÿß ŸÖÿ´ŸÑ Lclear 100');

              message.channel.bulkDelete(args[0]).then(() => {
                const embed = new Discord.RichEmbed()
                  .setColor(0xF16104)
                  .setDescription(`Cleared ${args[0]} messages.`);
                message.channel.send({ embed });

                const actionlog = message.guild.channels.find('name', 'logs');

                if (!actionlog) return message.channel.send('ÿ™ŸÖ ÿßŸÑŸÖÿ≥ÿ≠ ÿ®ŸÜÿ¨ÿßÿ≠');
                const embedlog = new Discord.RichEmbed()
                  .setDescription('Leaders')
                  .setColor(0xF16104)
                actionlog.send(embedlog);

              });
            };

            });


client.on('message', msg => {

    if (msg.content == 'Ljoin') {
        if (msg.member.voiceChannel) {

     if (msg.member.voiceChannel.joinable) {
         msg.member.voiceChannel.join().then(msg.react('white_check_mark'));
     }
    }
}
})
client.on('ready', () => { //code bot not leave room voice //Bot Is Online
    client.channels.get("512341859813687335").join(); //by : iBeAnthonyD
    });

client.on('message', message => {
        if(message.content === prefix + "hc") {
        if(!message.channel.guild) return;
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('You Dont Have Perms ‚ùå');
               message.channel.overwritePermissions(message.guild.id, {
               READ_MESSAGES: false
   })
                message.channel.send('Channel Hided Successfully ! ‚úÖ  ')
   }
  });


client.on('message', message => {
        if(message.content === prefix + "unhc") {
        if(!message.channel.guild) return;
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('‚ùå');
               message.channel.overwritePermissions(message.guild.id, {
               READ_MESSAGES: true
   })
                message.channel.send('Done  ')
   }
  });


client.on('message', msg => {
     if(msg.content === 'ŸáŸÑÿß')
                 setTimeout(function() {
   msg.reply('ŸáŸÑÿß ÿ≠ÿ®Ÿä')
                 }, 0)
   });


 client.on('message' , async message => {
      var prefix = "L";
         if(message.content.startsWith(prefix + "emoji")) {
            let args = message.content.split(" ").slice(1);
    if (args.length < 1) {
      message.channel.send('You must provide some text to emojify!');
  }
  
  message.channel.send(
      args.join(' ')
          .split('')
          .map(c => codes[c] || c)
          .join('')
  );
  };
  });

client.on('message', message => {
    var prefix = "L"
    let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);

  let args = message.content.split(" ").slice(1);


if(command == "draw") {
    var Canvas = require('canvas')
  , Image = new Canvas.Image
  , canvas = new Canvas(450, 170)
  , ctx = canvas.getContext('2d');
  ctx.font = '30px Impact';
  let args = message.content.split(" ").slice(1);
  
Image.src = canvas.toBuffer();

    console.log(Image);
ctx.drawImage(Image, 0, 0, Image.width / 470, Image.height / 170);
ctx.fillText(args.join("  "),110, 70);


ctx.beginPath();
ctx.lineTo(50, 102);
ctx.stroke();

message.channel.sendFile(canvas.toBuffer());
}
}).on('ready', () => {

});


client.on('message', message => {
    if (message.content.startsWith("Lavatar")) {
if(!message.channel.guild) return;
        var mentionned = message.mentions.users.first();
    var client;
      if(mentionned){
          var client = mentionned; } else {
          var client = message.author;
      }
        const embed = new Discord.RichEmbed()
                           .addField('Requested by:', "<@" + message.author.id + ">")
        .setColor(000000)
        .setImage(`${client.avatarURL}`)
      message.channel.sendEmbed(embed);
    }
});


client.on('message', message => {
           var prefix = "L";
            if (message.content.startsWith(prefix + "bot")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField(' ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±ÿßÿ™üåê',`[${client.guilds.size}]  `)
.addField(' ÿßŸÑÿßÿπÿ∂ÿßÿ°üë• ',` [${client.users.size}] `)
.addField('ÿßŸÑÿ±ŸàŸÖÿßÿ™üìö ',`[${client.channels.size}]`) 
.addField(' ÿßŸÑÿ®ŸÜŸÇüöÄ ',`[${Date.now() - message.createdTimestamp}]`) 
.addField('ŸÖÿµŸÖŸÖ ÿßŸÑÿ®Ÿàÿ™',`‚Äπ¬´ Œ∂ÕúÕ°LD ¬ª‚Ä∫ ‚Ä¢ ‚òÖ XMas ‚òÖ ‚Ä¢#2311`)
.addField('ÿµÿßÿ≠ÿ® ÿßŸÑÿ®Ÿàÿ™',`-'Leaders NetWork.`)
.setColor('#7d2dbe')
  message.channel.sendEmbed(embed);
    }
});

client.on('message', message => {
  var prefix ="L"; 
if (message.content.startsWith(prefix + 'perms')) {
         if(!message.channel.guild) return;
         var perms = JSON.stringify(message.channel.permissionsFor(message.author).serialize(), null, 4);
         var zPeRms = new Discord.RichEmbed()
         .setColor('RANDOM')
         .setTitle(':tools: Permissions')
         .addField('Your Permissions:',perms)
                  message.channel.send({embed:zPeRms});

    }
});


    client.on('message', message => {
      if(message.content.startsWith(prefix + 'ma')) {
       if (!message.member.hasPermission("MOVE_MEMBERS")) return message.channel.send('**ŸÑÿßŸäŸàÿ¨ÿØ ŸÑÿØŸäŸÉ ÿµŸÑÿßÿ≠Ÿäÿ© ÿ≥ÿ≠ÿ® ÿßŸÑÿ£ÿπÿ∂ÿßÿ°**');
         if(!message.guild.member(client.user).hasPermission("MOVE_MEMBERS")) return message.reply("**ŸÑÿßŸäŸàÿ¨ÿØ ŸÑÿØŸä ÿµŸÑÿßÿ≠Ÿäÿ© ÿßŸÑÿ≥ÿ≠ÿ®**");
      if (message.member.voiceChannel == null) return message.channel.send(`**ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßŸÑÿØÿÆŸàŸÑ ŸÑÿ±ŸàŸÖ ÿµŸàÿ™Ÿä**`)
       var author = message.member.voiceChannelID;
       var m = message.guild.members.filter(m=>m.voiceChannel)
       message.guild.members.filter(m=>m.voiceChannel).forEach(m => {
       m.setVoiceChannel(author)
       })
       message.channel.send(`‚úÖ **| ÿ™ŸÖ ÿ≥ÿ≠ÿ® ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿπÿ∂ÿßÿ° ÿ•ŸÑŸäŸÉ**`)
      
      
       }
         });



       
client.login(process.env.BOT_TOKEN);
